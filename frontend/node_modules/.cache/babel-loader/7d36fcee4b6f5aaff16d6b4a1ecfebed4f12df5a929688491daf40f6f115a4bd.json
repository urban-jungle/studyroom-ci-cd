{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"form-row\"\n};\nconst _hoisted_3 = {\n  class: \"form-row\"\n};\nconst _hoisted_4 = {\n  class: \"form-row\"\n};\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = {\n  type: \"submit\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[9] || (_cache[9] = _createElementVNode(\"h2\", null, \"스터디룸 예약\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.submitReservation && $options.submitReservation(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", null, \"예약자 이름:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.reserverName = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.reserverName]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", null, \"시작 시간:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"datetime-local\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.startTime = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.startTime]]), _cache[7] || (_cache[7] = _createElementVNode(\"label\", null, \"종료 시간:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"datetime-local\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.endTime = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.endTime]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", null, \"스터디룸 선택:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.roomId = $event),\n    required: \"\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.rooms, room => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: room.id,\n      value: room.id\n    }, _toDisplayString(room.roomName) + \" (정원: \" + _toDisplayString(room.capacity) + \") \", 9 /* TEXT, PROPS */, _hoisted_5);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.roomId]]), _createElementVNode(\"button\", _hoisted_6, _toDisplayString($options.isEditMode ? \"수정하기\" : \"예약\"), 1 /* TEXT */)])], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","type","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","submitReservation","_hoisted_2","$event","$data","reserverName","required","_hoisted_3","startTime","endTime","_hoisted_4","roomId","_Fragment","_renderList","rooms","room","key","id","value","roomName","_toDisplayString","capacity","_hoisted_5","_hoisted_6","isEditMode"],"sources":["C:\\Users\\user\\Desktop\\Studyroom PRJ\\frontend\\src\\components\\ReservationForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"form-wrapper\">\r\n    <h2>스터디룸 예약</h2>\r\n    <form @submit.prevent=\"submitReservation\">\r\n      <div class=\"form-row\">\r\n        <label>예약자 이름:</label>\r\n        <input v-model=\"reserverName\" required />\r\n      </div>\r\n\r\n      <div class=\"form-row\">\r\n        <label>시작 시간:</label>\r\n        <input type=\"datetime-local\" v-model=\"startTime\" required />\r\n\r\n        <label>종료 시간:</label>\r\n        <input type=\"datetime-local\" v-model=\"endTime\" required />\r\n      </div>\r\n\r\n      <div class=\"form-row\">\r\n        <label>스터디룸 선택:</label>\r\n        <select v-model=\"roomId\" required>\r\n          <option v-for=\"room in rooms\" :key=\"room.id\" :value=\"room.id\">\r\n            {{ room.roomName }} (정원: {{ room.capacity }})\r\n          </option>\r\n        </select>\r\n\r\n        <button type=\"submit\">{{ isEditMode ? \"수정하기\" : \"예약\" }}</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"../axios\";\r\n\r\nexport default {\r\n  name: \"ReservationForm\",\r\n  props: {\r\n    editReservation: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      rooms: [],\r\n      id: null,\r\n      reserverName: \"\",\r\n      startTime: \"\",\r\n      endTime: \"\",\r\n      roomId: null,\r\n    };\r\n  },\r\n  computed: {\r\n    isEditMode() {\r\n      return this.id !== null;\r\n    },\r\n  },\r\n  watch: {\r\n    editReservation: {\r\n      immediate: true,\r\n      handler(newVal) {\r\n        if (newVal) {\r\n          this.id = newVal.id;\r\n          this.reserverName = newVal.reserverName;\r\n          this.startTime = newVal.startTime.slice(0, 16);\r\n          this.endTime = newVal.endTime.slice(0, 16);\r\n          this.roomId = newVal.room.id;\r\n        }\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    async submitReservation() {\r\n      const data = {\r\n        reserverName: this.reserverName,\r\n        startTime: this.startTime,\r\n        endTime: this.endTime,\r\n        room: { id: this.roomId },\r\n      };\r\n\r\n      try {\r\n        if (this.isEditMode) {\r\n          await axios.put(`/api/reservations/${this.id}`, data);\r\n          alert(\"수정 완료!\");\r\n        } else {\r\n          await axios.post(\"/api/reservations\", data);\r\n          alert(\"예약 완료!\");\r\n        }\r\n\r\n        this.$emit(\"reservation-submitted\");\r\n        this.resetForm();\r\n      } catch (error) {\r\n        if (error.response && error.response.status === 409) {\r\n          alert(error.response.data);\r\n        } else {\r\n          alert(\"작업 실패\");\r\n        }\r\n      }\r\n    },\r\n    resetForm() {\r\n      this.id = null;\r\n      this.reserverName = \"\";\r\n      this.startTime = \"\";\r\n      this.endTime = \"\";\r\n      this.roomId = null;\r\n    },\r\n  },\r\n  async created() {\r\n    const res = await axios.get(\"/api/rooms\");\r\n    this.rooms = res.data;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.form-wrapper {\r\n  background: #f9f9f9;\r\n  padding: 16px;\r\n  margin-top: 20px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.form-row {\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\nlabel {\r\n  min-width: 100px;\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAc;;EAGhBA,KAAK,EAAC;AAAU;;EAKhBA,KAAK,EAAC;AAAU;;EAQhBA,KAAK,EAAC;AAAU;mBAjB3B;;EAyBgBC,IAAI,EAAC;AAAQ;;uBAxB3BC,mBAAA,CA2BM,OA3BNC,UA2BM,G,0BA1BJC,mBAAA,CAAgB,YAAZ,SAAO,sBACXA,mBAAA,CAwBO;IAxBAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHjBC,cAAA,KAAAC,IAAA,KAG2BC,QAAA,CAAAC,iBAAA,IAAAD,QAAA,CAAAC,iBAAA,IAAAF,IAAA,CAAiB;MACtCJ,mBAAA,CAGM,OAHNO,UAGM,G,0BAFJP,mBAAA,CAAsB,eAAf,SAAO,sB,gBACdA,mBAAA,CAAyC;IANjD,uBAAAE,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAMwBC,KAAA,CAAAC,YAAY,GAAAF,MAAA;IAAEG,QAAQ,EAAR;iDAAdF,KAAA,CAAAC,YAAY,E,KAG9BV,mBAAA,CAMM,OANNY,UAMM,G,0BALJZ,mBAAA,CAAqB,eAAd,QAAM,sB,gBACbA,mBAAA,CAA4D;IAArDH,IAAI,EAAC,gBAAgB;IAXpC,uBAAAK,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAW8CC,KAAA,CAAAI,SAAS,GAAAL,MAAA;IAAEG,QAAQ,EAAR;iDAAXF,KAAA,CAAAI,SAAS,E,6BAE/Cb,mBAAA,CAAqB,eAAd,QAAM,sB,gBACbA,mBAAA,CAA0D;IAAnDH,IAAI,EAAC,gBAAgB;IAdpC,uBAAAK,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAc8CC,KAAA,CAAAK,OAAO,GAAAN,MAAA;IAAEG,QAAQ,EAAR;iDAATF,KAAA,CAAAK,OAAO,E,KAG/Cd,mBAAA,CASM,OATNe,UASM,G,0BARJf,mBAAA,CAAuB,eAAhB,UAAQ,sB,gBACfA,mBAAA,CAIS;IAvBjB,uBAAAE,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAmByBC,KAAA,CAAAO,MAAM,GAAAR,MAAA;IAAEG,QAAQ,EAAR;yBACvBb,mBAAA,CAESmB,SAAA,QAtBnBC,WAAA,CAoBiCT,KAAA,CAAAU,KAAK,EAAbC,IAAI;yBAAnBtB,mBAAA,CAES;MAFsBuB,GAAG,EAAED,IAAI,CAACE,EAAE;MAAGC,KAAK,EAAEH,IAAI,CAACE;wBACrDF,IAAI,CAACI,QAAQ,IAAG,QAAM,GAAAC,gBAAA,CAAGL,IAAI,CAACM,QAAQ,IAAG,IAC9C,uBAtBVC,UAAA;2EAmByBlB,KAAA,CAAAO,MAAM,E,GAMvBhB,mBAAA,CAA+D,UAA/D4B,UAA+D,EAAAH,gBAAA,CAAtCpB,QAAA,CAAAwB,UAAU,iC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}